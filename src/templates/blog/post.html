{% extends "base.html" %}
{% from "_form.html" import render_field %}

{% block title %}Post page{% endblock %}

{% block content %}
    <div class="row">
        <col-md-offset-3 class="col-md-6">
            {% if action == 'new' %}
                <h3>New post</h3>
                <form action="{{ url_for('post') }}" method="post" role="form">
            {% else %}
                <h3>Edit post</h3>
                <form action="{{ url_for('edit_post', post_id=post.id) }}" method="post" role="form">
            {% endif %}
                {{ form.hidden_tag() }}

                {{ render_field(form.title, class='form-control') }}
                {{ render_field(form.body, class='form-control', rows=10) }}
                {{ render_field(form.category, class='form-control') }}
                {{ render_field(form.new_category, class='form-control') }}

                <button type="submit" class="btn btn-primary">Save</button>
            </form>
        </col-md-offset-3>
    </div>
{% endblock %}